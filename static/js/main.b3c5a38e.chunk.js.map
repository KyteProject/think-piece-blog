{"version":3,"sources":["utils.js","firebase-config.js","firebase.js","providers/PostsProvider.jsx","providers/UserProvider.jsx","components/Post.jsx","components/AddPost.jsx","components/Posts.jsx","components/CurrentUser.jsx","components/SignIn.jsx","components/SignUp.jsx","components/SignInAndSignUp.jsx","components/Authentication.jsx","components/UserProfile.jsx","components/Comment.jsx","components/AddComment.jsx","components/Comments.jsx","components/PostPage.jsx","components/Application.jsx","index.js"],"names":["collectPosts","doc","_objectSpread","id","data","config","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","firebase","initializeApp","auth","firestore","storage","provider","GoogleAuthProvider","signInWithGoogle","signInWithPopup","signOut","getUserDocument","_ref","Object","asyncToGenerator","regenerator_default","a","mark","_callee","user","uid","wrap","_context","prev","next","abrupt","concat","t0","console","error","message","stop","_x","apply","this","arguments","createUserProfileDocument","_ref2","_callee2","additionalData","userRef","createdAt","displayName","email","photoURL","_context2","get","sent","exists","Date","set","firebase_objectSpread","t1","_x2","_x3","window","PostsContext","createContext","UserContext","Post","title","content","stars","comments","_useContext","useContext","currentUser","slicedToArray","postRef","react_default","createElement","className","react_router_dom","to","role","aria-label","moment","toDate","calendar","onClick","update","postAuthor","belongsToCurrentUser","delete","defaultProps","AddPost","_useState","useState","_useState2","values","setValues","handleChange","event","persist","AddPost_objectSpread","defineProperty","target","name","value","onSubmit","preventDefault","log","_auth$currentUser","post","favorites","collection","add","type","placeholder","onChange","Posts","posts","components_AddPost","map","components_Post","assign","key","CurrentUser","children","src","alt","SignIn","SignIn_objectSpread","password","autoComplete","SignUp","SignUp_objectSpread","handleSubmit","createUserWithEmailAndPassword","SignInAndSignUp","components_SignIn","components_SignUp","Authentication","loading","components_CurrentUser","components_SignInAndSignUp","UserProfile","imageInput","file","files","ref","child","put","then","res","getDownloadURL","catch","err","UserProfile_objectSpread","Comment","AddComment","props","onCreate","AddComment_objectSpread","Comments","components_AddComment","comment","components_Comment","withRouter","setPost","_useState3","_useState4","setComments","postId","match","params","commentsRef","useEffect","unsubscribePost","onSnapshot","snapshot","fetchedPost","unsubscribeComments","fetchedComments","docs","components_Comments","PostPage_objectSpread","Application","components_Authentication","react_router","exact","path","component","PostPage","render","setUser","unsubscribeAuth","onAuthStateChanged","userAuth","UserProvider_objectSpread","Provider","setPosts","unsubscribePosts","components_Application","document","getElementById"],"mappings":"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","file":"static/js/main.b3c5a38e.chunk.js","sourcesContent":["export const collectPosts = ( doc ) => {\r\n\treturn { id: doc.id, ...doc.data() };\r\n};\r\n","const config = {\n\tapiKey: 'AIzaSyCrTcZer23nEcUF1yhyVPDOFDb4IH4Obe0',\n\tauthDomain: 'think-piece-e80e5.firebaseapp.com',\n\tdatabaseURL: 'https://think-piece-e80e5.firebaseio.com',\n\tprojectId: 'think-piece-e80e5',\n\tstorageBucket: 'think-piece-e80e5.appspot.com',\n\tmessagingSenderId: '1098587813818',\n\tappId: '1:1098587813818:web:42590d2d61ca1b44'\n};\n\nexport default config;\n","import firebase from 'firebase/app';\r\nimport config from './firebase-config';\r\nimport 'firebase/auth';\r\nimport 'firebase/firestore';\r\nimport 'firebase/storage';\r\n\r\nfirebase.initializeApp( config );\r\n\r\nexport const auth = firebase.auth();\r\nexport const firestore = firebase.firestore();\r\nexport const storage = firebase.storage();\r\nexport const provider = new firebase.auth.GoogleAuthProvider();\r\n\r\nexport const signInWithGoogle = () => auth.signInWithPopup( provider );\r\nexport const signOut = () => auth.signOut();\r\n\r\nexport const getUserDocument = async( user ) => {\r\n\tif ( !user ) {\r\n\t\treturn null;\r\n\t}\r\n\r\n\tconst uid = user.uid;\r\n\r\n\ttry {\r\n\t\treturn firestore.doc( `users/${uid}` );\r\n\t} catch ( err ) {\r\n\t\tconsole.error( 'Error fetching user', err.message );\r\n\t}\r\n};\r\n\r\nexport const createUserProfileDocument = async( user, additionalData ) => {\r\n\tif ( !user ) {\r\n\t\treturn;\r\n\t}\r\n\r\n\ttry {\r\n\t\tconst userRef = firestore.doc( `users/${user.uid}` ),\r\n\t\t\tsnapshot = await userRef.get();\r\n\r\n\t\tif ( !snapshot.exists ) {\r\n\t\t\tconst createdAt = new Date(),\r\n\t\t\t\t{ displayName, email, photoURL } = user;\r\n\r\n\t\t\ttry {\r\n\t\t\t\tawait userRef.set( {\r\n\t\t\t\t\tdisplayName,\r\n\t\t\t\t\temail,\r\n\t\t\t\t\tphotoURL,\r\n\t\t\t\t\tcreatedAt,\r\n\t\t\t\t\t...additionalData\r\n\t\t\t\t} );\r\n\t\t\t} catch ( err ) {\r\n\t\t\t\treturn console.error( 'Error creating user', err.message );\r\n\t\t\t}\r\n\t\t}\r\n\t} catch ( err ) {\r\n\t\treturn console.error( err.message );\r\n\t}\r\n\r\n\treturn getUserDocument( user );\r\n};\r\n\r\nwindow.firebase = firebase;\r\n\r\nexport default firebase;\r\n","import React, { useState, useEffect, createContext } from 'react';\nimport { collectPosts } from '../utils';\nimport { firestore } from '../firebase';\n\nconst PostsContext = createContext( [ {}, () => {} ] );\n\nconst PostsProvider = ( props ) => {\n\tconst [ posts, setPosts ] = useState( [] );\n\n\tuseEffect( () => {\n\t\tconst unsubscribePosts = firestore\n\t\t\t.collection( 'posts' )\n\t\t\t.onSnapshot( ( snapshot ) => setPosts( snapshot.docs.map( collectPosts ) ) );\n\n\t\treturn () => {\n\t\t\tunsubscribePosts();\n\t\t};\n\t}, [] );\n\n\treturn <PostsContext.Provider value={[ posts, setPosts ]}>{props.children}</PostsContext.Provider>;\n};\n\nexport { PostsContext, PostsProvider };\n","import React, { useState, useEffect, createContext } from 'react';\nimport { auth, createUserProfileDocument } from '../firebase';\n\nconst UserContext = createContext( [ {}, () => {} ] );\n\nconst UserProvider = ( props ) => {\n\tconst [ user, setUser ] = useState( null );\n\n\tuseEffect( () => {\n\t\tconst unsubscribeAuth = auth.onAuthStateChanged( async( userAuth ) => {\n\t\t\tconst userRef = await createUserProfileDocument( userAuth );\n\n\t\t\tif ( !userRef ) {\n return setUser( null );\n}\n\n\t\t\tuserRef.onSnapshot( ( snapshot ) => {\n\t\t\t\treturn setUser( { uid: snapshot.id, ...snapshot.data() } );\n\t\t\t} );\n\n\t\t\tconst snapshot = await userRef.get();\n\n\t\t\tsetUser( { uid: snapshot.id, ...snapshot.data() } );\n\t\t} );\n\n\t\treturn () => {\n\t\t\tunsubscribeAuth();\n\t\t};\n\t}, [] );\n\n\treturn <UserContext.Provider value={[ user, setUser ]}>{props.children}</UserContext.Provider>;\n};\n\nexport { UserContext, UserProvider };\n","import React, { useContext } from 'react';\r\nimport moment from 'moment';\r\nimport { firestore } from '../firebase';\r\nimport { UserContext } from '../providers/UserProvider';\r\nimport { Link } from 'react-router-dom';\r\n\r\nconst belongsToCurrentUser = ( user, postAuthor ) => {\r\n\tif ( !user ) {\r\n\t\treturn false;\r\n\t}\r\n\r\n\treturn user.uid === postAuthor.uid;\r\n};\r\n\r\nconst Post = ( { id, title, content, user, createdAt, stars, comments } ) => {\r\n\tconst [ currentUser ] = useContext( UserContext );\r\n\r\n\tconst postRef = firestore.doc( `posts/${id}` ),\r\n\t\tremove = () => postRef.delete(),\r\n\t\tstar = () => postRef.update( { stars: stars + 1 } );\r\n\r\n\treturn (\r\n\t\t<article className=\"Post\">\r\n\t\t\t<div className=\"Post--content\">\r\n\t\t\t\t<Link to={`/posts/${id}`}>\r\n\t\t\t\t\t<h3>{title}</h3>\r\n\t\t\t\t</Link>\r\n\t\t\t\t<div>{content}</div>\r\n\t\t\t</div>\r\n\t\t\t<div className=\"Post--meta\">\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<p>\r\n\t\t\t\t\t\t<span role=\"img\" aria-label=\"star\">\r\n\t\t\t\t\t\t\t⭐️\r\n\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t{stars}\r\n\t\t\t\t\t</p>\r\n\t\t\t\t\t<p>\r\n\t\t\t\t\t\t<span role=\"img\" aria-label=\"comments\">\r\n\t\t\t\t\t\t\t🙊\r\n\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t{comments}\r\n\t\t\t\t\t</p>\r\n\t\t\t\t\t<p>Posted by {user.displayName}</p>\r\n\t\t\t\t\t<p>{moment( createdAt.toDate() ).calendar()}</p>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<button className=\"star\" onClick={star}>\r\n\t\t\t\t\t\tStar\r\n\t\t\t\t\t</button>\r\n\t\t\t\t\t{belongsToCurrentUser( currentUser, user ) && (\r\n\t\t\t\t\t\t<button className=\"delete\" onClick={remove}>\r\n\t\t\t\t\t\t\tDelete\r\n\t\t\t\t\t\t</button>\r\n\t\t\t\t\t)}\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</article>\r\n\t);\r\n};\r\n\r\nPost.defaultProps = {\r\n\ttitle: 'An Incredibly Hot Take',\r\n\tcontent:\r\n\t\t'Lorem ipsum dolor sit, amet consectetur adipisicing elit. Ducimus est aut dolorem, dolor voluptatem assumenda possimus officia blanditiis iusto porro eaque non ab autem nihil! Alias repudiandae itaque quo provident.',\r\n\tuser: {\r\n\t\tid: '123',\r\n\t\tdisplayName: 'Bill Murray',\r\n\t\temail: 'billmurray@mailinator.com',\r\n\t\tphotoURL: 'https://www.fillmurray.com/300/300'\r\n\t},\r\n\tcreatedAt: new Date(),\r\n\tstars: 0,\r\n\tcomments: 0\r\n};\r\n\r\nexport default Post;\r\n","import React, { useState } from 'react';\r\nimport { firestore, auth } from '../firebase';\r\n\r\nconst AddPost = () => {\r\n\tconst [ values, setValues ] = useState( {} );\r\n\r\n\tconst handleChange = ( event ) => {\r\n\t\tevent.persist();\r\n\r\n\t\tsetValues( ( values ) => ( { ...values, [ event.target.name ]: event.target.value } ) );\r\n\t};\r\n\r\n\tconst handleSubmit = ( event ) => {\r\n\t\tevent.preventDefault();\r\n\r\n\t\tif ( !auth.currentUser ) {\r\n\t\t\treturn console.log( 'No user' );\r\n\t\t}\r\n\r\n\t\tconst { uid, displayName, email, photoURL } = auth.currentUser,\r\n\t\t\tpost = {\r\n\t\t\t\ttitle: values.title,\r\n\t\t\t\tcontent: values.content,\r\n\t\t\t\tuser: {\r\n\t\t\t\t\tuid,\r\n\t\t\t\t\tdisplayName,\r\n\t\t\t\t\temail,\r\n\t\t\t\t\tphotoURL\r\n\t\t\t\t},\r\n\t\t\t\tfavorites: 0,\r\n\t\t\t\tcomments: 0,\r\n\t\t\t\tcreatedAt: new Date()\r\n\t\t\t};\r\n\r\n\t\tfirestore.collection( 'posts' ).add( post );\r\n\r\n\t\tsetValues( { title: '', content: '' } );\r\n\t};\r\n\r\n\treturn (\r\n\t\t<form onSubmit={handleSubmit} className=\"AddPost\">\r\n\t\t\t<input type=\"text\" name=\"title\" placeholder=\"Title\" value={values.title} onChange={handleChange} />\r\n\t\t\t<input type=\"text\" name=\"content\" placeholder=\"Body\" value={values.content} onChange={handleChange} />\r\n\t\t\t<input className=\"create\" type=\"submit\" value=\"Create Post\" />\r\n\t\t</form>\r\n\t);\r\n};\r\n\r\nexport default AddPost;\r\n","import React, { useContext } from 'react';\r\nimport Post from './Post';\r\nimport AddPost from './AddPost';\r\nimport { PostsContext } from '../providers/PostsProvider';\r\n\r\nconst Posts = () => {\r\n\tconst [ posts ] = useContext( PostsContext );\r\n\r\n\treturn (\r\n\t\t<section className=\"Posts\">\r\n\t\t\t<AddPost />\r\n\t\t\t{posts.map( ( post ) => <Post {...post} key={post.id} /> )}\r\n\t\t</section>\r\n\t);\r\n};\r\n\r\nexport default Posts;\r\n","import React from 'react';\r\nimport moment from 'moment';\r\nimport { Link } from 'react-router-dom';\r\nimport { signOut } from '../firebase';\r\n\r\nconst CurrentUser = ( { displayName, photoURL, email, createdAt, children } ) => {\r\n\treturn (\r\n\t\t<section className=\"CurrentUser\">\r\n\t\t\t<div className=\"CurrentUser--profile\">\r\n\t\t\t\t{photoURL && <img src={photoURL} alt={displayName} />}\r\n\t\t\t\t<div className=\"CurrentUser--information\">\r\n\t\t\t\t\t<Link to=\"profile\">\r\n\t\t\t\t\t\t<h2>{displayName}</h2>\r\n\t\t\t\t\t</Link>\r\n\t\t\t\t\t<p className=\"email\">{email}</p>\r\n\t\t\t\t\t<p className=\"created-at\">{moment( createdAt ).calendar()}</p>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t<div>\r\n\t\t\t\t<div>{children}</div>\r\n\t\t\t\t<button onClick={signOut}>Sign Out</button>\r\n\t\t\t</div>\r\n\t\t</section>\r\n\t);\r\n};\r\n\r\nCurrentUser.defaultProps = {\r\n\tdisplayName: 'Bill Murray',\r\n\temail: 'billmurray@mailinator.com',\r\n\tphotoURL: 'https://www.fillmurray.com/300/300',\r\n\tcreatedAt: new Date()\r\n};\r\n\r\nexport default CurrentUser;\r\n","import React, { useState } from 'react';\r\nimport { signInWithGoogle } from '../firebase';\r\n\r\nconst SignIn = () => {\r\n\tconst [ values, setValues ] = useState( {} );\r\n\r\n\tconst handleChange = ( event ) => {\r\n\t\tevent.persist();\r\n\t\tsetValues( () => ( { ...values, [ event.target.name ]: event.target.value } ) );\r\n\t};\r\n\r\n\tconst handleSubmit = ( event ) => {\r\n\t\tevent.preventDefault();\r\n\t\tsetValues( { email: '', password: '' } );\r\n\t};\r\n\r\n\treturn (\r\n\t\t<form className=\"SignIn\" onSubmit={handleSubmit}>\r\n\t\t\t<h2>Sign In</h2>\r\n\t\t\t<input\r\n\t\t\t\ttype=\"email\"\r\n\t\t\t\tname=\"email\"\r\n\t\t\t\tplaceholder=\"Email\"\r\n\t\t\t\tvalue={values.email}\r\n\t\t\t\tonChange={handleChange}\r\n\t\t\t\tautoComplete=\"current-email\"\r\n\t\t\t/>\r\n\t\t\t<input\r\n\t\t\t\ttype=\"password\"\r\n\t\t\t\tname=\"password\"\r\n\t\t\t\tplaceholder=\"Password\"\r\n\t\t\t\tvalue={values.password}\r\n\t\t\t\tonChange={handleChange}\r\n\t\t\t\tautoComplete=\"current-password\"\r\n\t\t\t/>\r\n\t\t\t<input type=\"submit\" value=\"Sign In\" />\r\n\t\t\t<button onClick={signInWithGoogle}>Sign In With Google</button>\r\n\t\t</form>\r\n\t);\r\n};\r\n\r\nexport default SignIn;\r\n","import React, { useState } from 'react';\r\nimport { auth, createUserProfileDocument } from '../firebase';\r\n\r\nconst SignUp = () => {\r\n\tconst [ values, setValues ] = useState( {} );\r\n\r\n\tconst handleChange = ( event ) => {\r\n\t\tevent.persist();\r\n\r\n\t\tsetValues( () => ( { ...values, [ event.target.name ]: event.target.value } ) );\r\n\t};\r\n\r\n\tconst handleSubmit = async( event ) => {\r\n\t\tevent.preventDefault();\r\n\r\n\t\tconst { displayName, email, password } = values;\r\n\r\n\t\ttry {\r\n\t\t\tconst user = await auth.createUserWithEmailAndPassword( email, password );\r\n\r\n\t\t\tcreateUserProfileDocument( user.user, { displayName } );\r\n\t\t} catch ( err ) {\r\n\t\t\tconsole.error( err );\r\n\t\t}\r\n\r\n\t\tsetValues( { displayName: '', email: '', password: '' } );\r\n\t};\r\n\r\n\treturn (\r\n\t\t<form className=\"SignUp\" onSubmit={handleSubmit}>\r\n\t\t\t<h2>Sign Up</h2>\r\n\t\t\t<input\r\n\t\t\t\ttype=\"text\"\r\n\t\t\t\tname=\"displayName\"\r\n\t\t\t\tplaceholder=\"Display Name\"\r\n\t\t\t\tvalue={values.displayName}\r\n\t\t\t\tonChange={handleChange}\r\n\t\t\t/>\r\n\t\t\t<input\r\n\t\t\t\ttype=\"email\"\r\n\t\t\t\tname=\"email\"\r\n\t\t\t\tplaceholder=\"Email\"\r\n\t\t\t\tvalue={values.email}\r\n\t\t\t\tonChange={handleChange}\r\n\t\t\t\tautoComplete=\"current-email\"\r\n\t\t\t/>\r\n\t\t\t<input\r\n\t\t\t\ttype=\"password\"\r\n\t\t\t\tname=\"password\"\r\n\t\t\t\tplaceholder=\"Password\"\r\n\t\t\t\tvalue={values.password}\r\n\t\t\t\tonChange={handleChange}\r\n\t\t\t\tautoComplete=\"current-password\"\r\n\t\t\t/>\r\n\t\t\t<input type=\"submit\" value=\"Sign Up\" />\r\n\t\t</form>\r\n\t);\r\n};\r\n\r\nexport default SignUp;\r\n","import React from 'react';\r\n\r\nimport SignIn from './SignIn';\r\nimport SignUp from './SignUp';\r\n\r\nconst SignInAndSignUp = () => (\r\n\t<div>\r\n\t\t<SignIn />\r\n\t\t<SignUp />\r\n\t</div>\r\n);\r\n\r\nexport default SignInAndSignUp;\r\n","import React, { useContext } from 'react';\r\n\r\nimport CurrentUser from './CurrentUser';\r\nimport SignInAndSignUp from './SignInAndSignUp';\r\nimport { UserContext } from '../providers/UserProvider';\r\n\r\nconst Authentication = ( { loading } ) => {\r\n\tconst [ user ] = useContext( UserContext );\r\n\r\n\tif ( loading ) {\r\n\t\treturn null;\r\n\t}\r\n\r\n\treturn <div>{user ? <CurrentUser {...user} /> : <SignInAndSignUp />}</div>;\r\n};\r\n\r\nexport default Authentication;\r\n","import React, { useState, useContext } from 'react';\nimport { firestore, storage } from '../firebase';\nimport { UserContext } from '../providers/UserProvider';\n\nconst UserProfile = () => {\n\tconst [ user ] = useContext( UserContext ),\n\t\t[ values, setValues ] = useState( {\n\t\t\tdisplayName: '',\n\t\t\timageInput: null\n\t\t} );\n\n\tconst handleChange = ( event ) => {\n\t\tevent.persist();\n\n\t\tsetValues( () => ( { ...values, [ event.target.name ]: event.target.value } ) );\n\t};\n\n\tconst handleSubmit = ( event ) => {\n\t\tevent.preventDefault();\n\n\t\tconst userRef = firestore.doc( `users/${user.uid}` ),\n\t\t\tdisplayName = values.displayName,\n\t\t\tfile = values.imageInput && values.imageInput.files[ 0 ];\n\n\t\tif ( values.displayName ) {\n\t\t\tuserRef.update( { displayName } );\n\t\t}\n\n\t\tif ( file ) {\n\t\t\tstorage\n\t\t\t\t.ref()\n\t\t\t\t.child( 'user-profiles' )\n\t\t\t\t.child( user.uid )\n\t\t\t\t.child( file.name )\n\t\t\t\t.put( file )\n\t\t\t\t.then( ( res ) => res.ref.getDownloadURL() )\n\t\t\t\t.then( ( photoURL ) => userRef.update( { photoURL } ) )\n\t\t\t\t.catch( ( err ) => console.error( err ) );\n\t\t}\n\t};\n\n\treturn (\n\t\t<section className=\"UserProfile\">\n\t\t\t<form onSubmit={handleSubmit}>\n\t\t\t\t<input\n\t\t\t\t\ttype=\"text\"\n\t\t\t\t\tname=\"displayName\"\n\t\t\t\t\tvalue={values.displayName}\n\t\t\t\t\tonChange={handleChange}\n\t\t\t\t\tplaceholder=\"Display Name\"\n\t\t\t\t/>\n\t\t\t\t<input type=\"file\" name=\"imageInput\" ref={( ref ) => ( values.imageInput = ref )} />\n\t\t\t\t<input className=\"update\" type=\"submit\" />\n\t\t\t</form>\n\t\t</section>\n\t);\n};\n\nexport default UserProfile;\n","import React from 'react';\r\n\r\nimport moment from 'moment';\r\n\r\nconst Comment = ( { content, user, createdAt } ) => {\r\n\treturn (\r\n\t\t<article className=\"Comment\">\r\n\t\t\t<span className=\"Comment--author\">{user.displayName}</span>\r\n\t\t\t<span className=\"Comment--content\">{content}</span>\r\n\t\t\t<span className=\"Comment--timestamp\">{moment( createdAt ).calendar()}</span>\r\n\t\t</article>\r\n\t);\r\n};\r\n\r\nComment.defaultProps = {\r\n\ttitle: 'An Incredibly Hot Take',\r\n\tcontent:\r\n\t\t'Lorem ipsum dolor sit, amet consectetur adipisicing elit. Ducimus est aut dolorem, dolor voluptatem assumenda possimus officia blanditiis iusto porro eaque non ab autem nihil! Alias repudiandae itaque quo provident.',\r\n\tuser: {\r\n\t\tdisplayName: 'Bill Murray',\r\n\t\temail: 'billmurray@mailinator.com',\r\n\t\tphotoURL: 'https://www.fillmurray.com/300/300'\r\n\t},\r\n\tcreatedAt: new Date()\r\n};\r\n\r\nexport default Comment;\r\n","import React, { useState } from 'react';\r\n\r\nconst AddComment = ( props ) => {\r\n\tconst [ values, setValues ] = useState( {} );\r\n\r\n\tconst handleChange = ( event ) => {\r\n\t\tevent.persist();\r\n\r\n\t\tsetValues( () => ( { ...values, [ event.target.name ]: event.target.value } ) );\r\n\t};\r\n\r\n\tconst handleSubmit = ( event ) => {\r\n\t\tevent.preventDefault();\r\n\r\n\t\tprops.onCreate( values );\r\n\t};\r\n\r\n\treturn (\r\n\t\t<form onSubmit={handleSubmit} className=\"AddComment\">\r\n\t\t\t<input type=\"text\" name=\"content\" placeholder=\"Comment\" value={values.content} onChange={handleChange} />\r\n\t\t\t<input className=\"create\" type=\"submit\" value=\"Create Comment\" />\r\n\t\t</form>\r\n\t);\r\n};\r\n\r\nexport default AddComment;\r\n","import React from 'react';\r\nimport Comment from './Comment';\r\nimport AddComment from './AddComment';\r\n\r\nconst Comments = ( { comments, onCreate } ) => {\r\n\treturn (\r\n\t\t<section className=\"Comments\">\r\n\t\t\t<AddComment onCreate={onCreate} />\r\n\t\t\t{comments.map( ( comment ) => <Comment {...comment} key={comment.id} /> )}\r\n\t\t</section>\r\n\t);\r\n};\r\n\r\nexport default Comments;\r\n","import React, { useState, useEffect, useContext } from 'react';\nimport { withRouter } from 'react-router-dom';\nimport Post from './Post';\nimport Comments from './Comments';\nimport { firestore } from '../firebase';\nimport { collectPosts } from './../utils';\nimport { UserContext } from '../providers/UserProvider';\n\nconst PostPage = ( props ) => {\n\tconst [ post, setPost ] = useState( null ),\n\t\t[ comments, setComments ] = useState( [] ),\n\t\t[ user ] = useContext( UserContext ),\n\t\tpostId = props.match.params.id,\n\t\tpostRef = firestore.doc( `posts/${postId}` ),\n\t\tcommentsRef = postRef.collection( 'comments' );\n\n\tuseEffect( () => {\n\t\tconst unsubscribePost = postRef.onSnapshot( ( snapshot ) => {\n\t\t\tconst fetchedPost = collectPosts( snapshot );\n\n\t\t\tsetPost( fetchedPost );\n\t\t} );\n\n\t\tconst unsubscribeComments = commentsRef.onSnapshot( ( snapshot ) => {\n\t\t\tconst fetchedComments = snapshot.docs.map( collectPosts );\n\n\t\t\tsetComments( fetchedComments );\n\t\t} );\n\n\t\treturn () => {\n\t\t\tunsubscribePost();\n\t\t\tunsubscribeComments();\n\t\t};\n\t}, [] );\n\n\tconst createComment = ( comment ) => {\n\t\tcommentsRef.add( {\n\t\t\t...comment,\n\t\t\tuser\n\t\t} );\n\t};\n\n\treturn (\n\t\t<section>\n\t\t\t{post && <Post {...post} />}\n\t\t\t{post && <Comments comments={comments} postId={post.id} onCreate={createComment} />}\n\t\t</section>\n\t);\n};\n\nexport default withRouter( PostPage );\n","import React from 'react';\r\nimport { Switch, Route, Link } from 'react-router-dom';\r\n\r\nimport Posts from './Posts';\r\nimport Authentication from './Authentication';\r\nimport UserProfile from './UserProfile';\r\nimport PostPage from './PostPage';\r\n\r\nconst Application = () => {\r\n\treturn (\r\n\t\t<main className=\"Application\">\r\n\t\t\t<Link to=\"/\">\r\n\t\t\t\t<h1>Think Piece</h1>\r\n\t\t\t</Link>\r\n\t\t\t<Authentication />\r\n\t\t\t<Switch>\r\n\t\t\t\t<Route exact path=\"/\" component={Posts} />\r\n\t\t\t\t<Route exact path=\"/profile\" component={UserProfile} />\r\n\t\t\t\t<Route exact path=\"/posts/:id\" component={PostPage} />\r\n\t\t\t</Switch>\r\n\t\t</main>\r\n\t);\r\n};\r\n\r\nexport default Application;\r\n","import React from 'react';\r\nimport { render } from 'react-dom';\r\nimport { BrowserRouter as Router } from 'react-router-dom';\r\nimport { PostsProvider } from './providers/PostsProvider';\r\nimport { UserProvider } from './providers/UserProvider';\r\nimport Application from './components/Application';\r\nimport './index.scss';\r\n\r\nrender(\r\n\t<Router>\r\n\t\t<UserProvider>\r\n\t\t\t<PostsProvider>\r\n\t\t\t\t<Application />\r\n\t\t\t</PostsProvider>\r\n\t\t</UserProvider>\r\n\t</Router>,\r\n\tdocument.getElementById( 'root' )\r\n);\r\n"],"sourceRoot":""}